---
import type { ButtonItem } from "../parts/ButtonValueList.astro";
import Form from "../parts/Form.astro";
import FieldLongText from "../parts/FieldLongText.astro";
import FieldButtonValueList from "../parts/FieldButtonValueList.astro";

export type PresetName = "feeling" | "like-dislike" | "feedback";

interface Props {
  preset: PresetName | readonly ButtonItem[];
  class?: string;
  title?: string;
  placeholder?: string;
  showLabels?: boolean;
  minLength?: number;
  maxLength?: number;
  preselect?: number | string | false;
}

const {
  class: className,
  preset,
  title = "Send feedback",
  placeholder = "Type your message",
  minLength,
  maxLength,
  showLabels = true,
  preselect = 0,
} = Astro.props;
---

<Form class={className} title={title}>
  <FieldButtonValueList name="tag" value={preselect === false ? undefined : preselect} {...{ preset, showLabels }} />
  <FieldLongText name="message" {...{ placeholder, minLength, maxLength }} />
</Form>
